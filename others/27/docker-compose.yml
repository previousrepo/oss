version: '3.8'

services:
  web:
    image: nginx:alpine
    container_name: mount-compose-demo
    ports:
      - "8082:80"
    volumes:
      # Bind mount - host directory to container
      - ./shared-data:/app/shared
      # Mount HTML files
      - ./html:/usr/share/nginx/html:ro
      # Named volume
      - app-logs:/var/log/nginx
    environment:
      - NGINX_HOST=localhost
      - NGINX_PORT=80

  app:
    image: busybox
    container_name: mount-app-demo
    volumes:
      # Same shared directory
      - ./shared-data:/data
    command: sh -c "while true; do date >> /data/timestamp.log; sleep 10; done"

volumes:
  app-logs:
